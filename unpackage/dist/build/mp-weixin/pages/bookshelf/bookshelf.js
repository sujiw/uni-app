(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/bookshelf/bookshelf"],{2812:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},a=[];o.d(e,"a",function(){return n}),o.d(e,"b",function(){return a})},"63ca":function(t,e,o){"use strict";o.r(e);var n=o("2812"),a=o("67a3");for(var i in a)"default"!==i&&function(t){o.d(e,t,function(){return a[t]})}(i);o("7ce6");var r=o("2877"),s=Object(r["a"])(a["default"],n["a"],n["b"],!1,null,null,null);e["default"]=s.exports},"67a3":function(t,e,o){"use strict";o.r(e);var n=o("6c12"),a=o.n(n);for(var i in n)"default"!==i&&function(t){o.d(e,t,function(){return n[t]})}(i);e["default"]=a.a},"6c12":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{book_list:[],modalName:null}},methods:{doBookInfo:function(e){var o=e.currentTarget.dataset.url,n=e.currentTarget.dataset.webid;t.navigateTo({url:"/pages/bookshelf/bookinfo/bookinfo?url="+o+"&webid="+n})},doRead:function(e){var o=e.currentTarget.dataset.index;t.setStorageSync("read",o),t.navigateTo({url:"/pages/bookshelf/read/read"})},ListTouchStart:function(t){this.listTouchStart=t.touches[0].pageX},ListTouchMove:function(t){this.listTouchDirection=t.touches[0].pageX-this.listTouchStart>0?"right":"left"},ListTouchEnd:function(t){"left"==this.listTouchDirection?this.modalName=t.currentTarget.dataset.target:this.modalName=null,this.listTouchDirection=null},toSelected:function(){t.switchTab({url:"/pages/selected/selected"})},doDelete:function(e){var o=this;t.showActionSheet({itemList:["删除本书"],itemColor:"#e54d42",success:function(){o.book_list.splice(e.currentTarget.dataset.index,1),t.setStorageSync("booklist",o.book_list)}})}},onShow:function(){this.book_list=t.getStorageSync("booklist")},onLoad:function(){this.book_list=t.getStorageSync("booklist"),console.log(this.book_list)},onPullDownRefresh:function(){var e=this;0==this.book_list.length&&t.stopPullDownRefresh(),t.showNavigationBarLoading();for(var o=this.book_list,n=[],a=0;a<o.length;a++){var i={};i.chapterlength=o[a].chapter.length,i.webid=o[a]._id,i.url=o[a].url,n.push(i)}t.request({url:this.api_url["bookupdate"],method:"POST",data:n,success:function(n){for(var a=n.data,i=0;i<a.length;i++)if(a[i].update>0){o[i].update=a[i].update+(o[i].update?o[i].update:0);for(var r=0;r<a[i].chapter.length;r++)o[i].chapter.push(a[i].chapter[r])}e.book_list=o,t.setStorageSync("booklist",o)},complete:function(){t.hideNavigationBarLoading(),t.stopPullDownRefresh()}})}};e.default=o}).call(this,o("543d")["default"])},"7ce6":function(t,e,o){"use strict";var n=o("ef59"),a=o.n(n);a.a},ef59:function(t,e,o){}},[["dd64","common/runtime","common/vendor"]]]);