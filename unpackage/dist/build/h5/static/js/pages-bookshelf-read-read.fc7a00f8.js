(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-bookshelf-read-read"],{"1ea5":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{saveScrollTop:0,CustomBar:this.CustomBar,isSet:!1,loading:!0,fontSize:40,backgroundId:3,backgroundGroup:[["262626","ede7da","000000"],["262626","e0ce9e","000000"],["262626","cddfcd","000000"],["262626","cfdde1","000000"],["262626","d0d0d0","000000"],["262626","ebcece","000000"],["666666","0f1112","ffffff"]],book_info:{},chapter_title:"",scrollTop:0,content:[],read:0}},methods:{upperChapter:function(){0!=this.book_info.chapterid?this.HandleContent(this.book_info.chapterid-1):wx.showToast({title:"无章节"})},nextChapter:function(){this.book_info.chapterid!=this.book_info.chapter.length-1?this.HandleContent(this.book_info.chapterid+1):wx.showToast({title:"无章节"})},chapterOpen:function(){uni.navigateTo({url:"/pages/bookshelf/bookinfo/chapter/chapter"})},doSet:function(){this.isSet=!this.isSet},doScroll:function(t){this.saveScrollTop=t.detail.scrollTop},setFontSize:function(t){var e=t.detail.value;e||(e=parseInt(t.currentTarget.dataset.value),e+=this.fontSize),e!=this.fontSize&&(wx.setStorageSync("fontSize",e),this.fontSize=e),uni.setStorageSync("fontSize",e)},setBackground:function(t){this.backgroundId=t.currentTarget.dataset.color,uni.setStorageSync("backgroundId",this.backgroundId)},HandleContent:function(t){var e=this;this.loading=!0;var i=this.book_info,n=0;t&&NaN!=parseInt(t)?i.chapterid=parseInt(t):(i.chapterid=i.chapterid?i.chapterid:0,n=i.chapter[i.chapterid].scrollTop,n||(n=0)),this.chapter_title=i.chapter[i.chapterid].name,uni.request({url:this.api_url["content"],data:{webid:i._id,url:i.chapter[i.chapterid].url},success:function(t){if(t.data.state){var i=t.data.body.split("\n");i.unshift(e.chapter_title),e.content=i,e.scrollTop=n,e.saveScrollTop=n}else wx.showToast({title:t.data.msg})},complete:function(){e.loading=!1}})}},onLoad:function(t){console.log(t);var e=uni.getStorageSync("backgroundId"),i=uni.getStorageSync("fontSize"),n=uni.getStorageSync("booklist"),o=uni.getStorageSync("read");e||(e=0),i||(i=40),this.backgroundId=e,this.fontSize=i,this.book_info=n[o],this.read=o,"{}"!=JSON.stringify(t)?this.HandleContent(t.id):this.HandleContent()},onUnload:function(){var t=uni.getStorageSync("booklist"),e=this.read;delete t[e].update,t[e].chapter[this.book_info.chapterid].scrollTop=this.saveScrollTop,t[e].chapterid=this.book_info.chapterid,uni.setStorageSync("booklist",t)},onBackPress:function(){}};e.default=n},"350f":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".border[data-v-209a539a]{border:1px solid #ddd;-webkit-border-radius:5px;border-radius:5px}uni-scroll-view .content[data-v-209a539a]{text-align:left;padding:0 %?50?%;font-family:Microsoft YaHei,PingFangSC-Regular,HelveticaNeue-Light,Helvetica Neue Light,sans-serif;line-height:2;overflow:hidden;font-size:%?40?%}uni-scroll-view .content uni-text[data-v-209a539a]{display:block;text-indent:%?50?%;margin-bottom:%?30?%}.bottom_view[data-v-209a539a]{border-top:%?1?% solid #ddd;color:#eee;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:%?200?%;width:100%;margin-top:%?-200?%;background-color:rgba(0,0,0,.8);position:fixed;bottom:0}.text_control[data-v-209a539a]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:%?18?% %?28?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.pro_bar[data-v-209a539a]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;text-align:center}.line[data-v-209a539a]{width:100%;height:%?1?%;background-color:#666}.img_control[data-v-209a539a]{-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:%?28?%}.img_1[data-v-209a539a]{width:%?48?%;height:%?48?%;line-height:%?48?%;font-size:%?40?%}.bgcolor[data-v-209a539a]{width:%?48?%;height:%?48?%;-webkit-border-radius:50%;border-radius:50%;background-color:red}",""])},3528:function(t,e,i){"use strict";i.r(e);var n=i("1ea5"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=o.a},"769f":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{style:[{"background-color":"#"+t.backgroundGroup[t.backgroundId][1]},{"background-image":"url(https://book.mdaogo.cn/public/images/"+t.backgroundGroup[t.backgroundId][1]+".png) repeat"},{color:"#"+t.backgroundGroup[t.backgroundId][0]},{height:"100%"}]},[t.loading?i("v-uni-view",{staticClass:"cu-load load-modal"},[i("v-uni-view",{staticClass:"cuIcon-emojifill text-orange"}),i("v-uni-view",{staticClass:"gray-text"},[t._v("加载中...")])],1):t._e(),i("cu-custom",{style:{color:"#"+t.backgroundGroup[t.backgroundId][0]},attrs:{topheight:"0px",isBack:!0}},[i("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),i("template",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.chapter_title))])],2),t.loading?t._e():i("v-uni-scroll-view",{style:[{"padding-top":t.CustomBar+"px"},{height:"100%"}],attrs:{"scroll-top":t.scrollTop,"scroll-y":"true"},on:{scroll:function(e){e=t.$handleEvent(e),t.doScroll(e)}}},[i("v-uni-view",{staticClass:"cu-bar tabbar border margin"},[i("v-uni-view",{staticClass:"submit",on:{click:function(e){e=t.$handleEvent(e),t.upperChapter(e)}}},[t._v("上一章")]),i("v-uni-view",{staticClass:"submit",on:{click:function(e){e=t.$handleEvent(e),t.chapterOpen(e)}}},[t._v("目录")]),i("v-uni-view",{staticClass:"submit",on:{click:function(e){e=t.$handleEvent(e),t.nextChapter(e)}}},[t._v("下一章")])],1),i("v-uni-view",{staticClass:"content",style:"font-size:"+t.fontSize+"rpx",on:{click:function(e){e=t.$handleEvent(e),t.doSet(e)}}},t._l(t.content,function(e,n){return i("v-uni-text",{key:n},[t._v(t._s(e))])}),1),i("v-uni-view",{staticClass:"cu-bar tabbar border margin"},[i("v-uni-view",{staticClass:"submit",on:{click:function(e){e=t.$handleEvent(e),t.upperChapter(e)}}},[t._v("上一章")]),i("v-uni-view",{staticClass:"submit",on:{click:function(e){e=t.$handleEvent(e),t.chapterOpen(e)}}},[t._v("目录")]),i("v-uni-view",{staticClass:"submit",on:{click:function(e){e=t.$handleEvent(e),t.nextChapter(e)}}},[t._v("下一章")])],1)],1),t.isSet?i("v-uni-view",{staticClass:"bottom_view"},[i("v-uni-view",{staticClass:"text_control"},[i("v-uni-view",{attrs:{"data-value":-1},on:{click:function(e){e=t.$handleEvent(e),t.setFontSize(e)}}},[t._v("Aa-")]),i("v-uni-view",{staticClass:"pro_bar"},[i("v-uni-slider",{attrs:{value:t.fontSize,min:20,max:60,"show-value":""},on:{change:function(e){e=t.$handleEvent(e),t.setFontSize(e)},changing:function(e){e=t.$handleEvent(e),t.setFontSize(e)}}})],1),i("v-uni-view",{attrs:{"data-value":1},on:{click:function(e){e=t.$handleEvent(e),t.setFontSize(e)}}},[t._v("Aa+")])],1),i("v-uni-view",{staticClass:"line"}),i("v-uni-view",{staticClass:"img_control"},[i("v-uni-view",{on:{click:function(e){e=t.$handleEvent(e),t.chapterOpen(e)}}},[i("v-uni-text",{staticClass:"cuIcon-sort lg img_1"})],1),t._l(t.backgroundGroup,function(e,n){return i("v-uni-view",{key:n,staticClass:"bgcolor",style:"background-color: #"+e[1],attrs:{"data-color":n},on:{click:function(e){e=t.$handleEvent(e),t.setBackground(e)}}})}),i("v-uni-view",{on:{click:function(e){e=t.$handleEvent(e),t.nextChapter(e)}}},[t._v("下一章")])],2)],1):t._e()],1)},o=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},c840:function(t,e,i){"use strict";i.r(e);var n=i("769f"),o=i("3528");for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);i("fa07");var r=i("2877"),c=Object(r["a"])(o["default"],n["a"],n["b"],!1,null,"209a539a",null);e["default"]=c.exports},e57b:function(t,e,i){var n=i("350f");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("39cf2b63",n,!0,{sourceMap:!1,shadowMode:!1})},fa07:function(t,e,i){"use strict";var n=i("e57b"),o=i.n(n);o.a}}]);